<ul class="transactions flex flex-col gap-[0.5rem]">
  @for(transaction of getPaginatedData(); track transaction.id){
  <li
    class="tran-item grid grid-cols-[2.5rem_1fr_10rem] gap-y-[0.4rem] gap-x-[0.8rem] p-[1.5rem_0] rounded-xl"
  >
    <button
      type="button"
      class="col-1 row-1 cursor-pointer"
      [matMenuTriggerFor]="menu"
    >
      <span
        class="icon-container w-[2.5rem] h-[2.5rem] flex items-center justify-center"
      >
        <lucide-angular [img]="ellipsesIcon"></lucide-angular>
      </span>
    </button>
    <mat-menu #menu="matMenu" class="bg-white! rounded-xl!">
      <button
        type="button"
        mat-menu-item
        class="p-[0.5rem_1rem] text-[1.8rem]! cursor-pointer bg-white hover:bg-neutral-300"
        (click)="onTransactionEdit(transaction)"
      >
        Edit
      </button>
      <button
        type="button"
        mat-menu-item
        class="err-text p-[0.5rem_1rem] text-[1.8rem]! cursor-pointer bg-white hover:bg-neutral-300"
        (click)="onDelete(transaction.id)"
      >
        Delete
      </button>
    </mat-menu>

    <h2 class="name :text-[1.65rem] font-medium row-1 col-2 leading-[1.2]">
      {{transaction.name}}
    </h2>
    <span class="date text-neutral-600 text-[1.4rem] row-2 col-2 leading-[1.1] whitespace-nowrap"
      >{{transaction.date | date: 'MMM d, y, h:mm a'}}</span
    >
    <p
      class="amount text-[1.65rem] col-3 row-[1/span_2] leading-[1.1] flex items-center"
      [class]="transaction.type == 'expense' ? 'err-text' : 'success-text'"
    >
      {{transaction.type == 'expense' ? '-' : '+'}} Rs. {{transaction.amount}}
    </p>
  </li>
  } @empty{
  <h2 class="text-[2rem] text-center pt-[2.5rem]">No transactions</h2>
  }
</ul>
@if(this.transactions().length > 0){
<div class="pagination-footer flex gap-[1rem] items-center pt-[1.5rem]">
  <p class="text-[1.5rem] mr-auto">
    Page {{this.page()}} of {{this.totalPages()}}
  </p>
  <button
    [class]="this.page() == 1 ? 'pointer-events-none border-[#b1b1b1]!' : ''"
    type="button"
    class="w-[3.5rem] h-[3.5rem] flex items-center justify-center border-2 border-[#438883] rounded-full bg-[#fff] cursor-pointer"
    (click)="prevPage()"
  >
    <lucide-angular
      [img]="chevronLeft"
      [class]="this.page() == 1 ? 'text-[#b1b1b1]' : ''"
      class="w-[85%] h-[85%] flex items-center justify-center text-[#438883]"
    ></lucide-angular>
  </button>
  <button
    type="button"
    class="w-[3.5rem] h-[3.5rem] flex items-center justify-center border-2 border-[#438883] rounded-full bg-[#fff] cursor-pointer"
    [class]="this.page() >= this.totalPages() ? 'border-[#b1b1b1]!' : ''"
    (click)="nextPage()"
  >
    <lucide-angular
      [img]="chevronRight"
      [class]="this.page() >= this.totalPages() ? 'text-[#b1b1b1]' : ''"
      class="w-[85%] h-[85%] flex items-center justify-center text-[#438883]"
    ></lucide-angular>
  </button>
</div>
}