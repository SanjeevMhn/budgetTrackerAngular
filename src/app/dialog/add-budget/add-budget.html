<section class="budget-container h-full">
  <div
    class="wrapper pt-[3.5rem] flex flex-col gap-y-[5.5rem] isolate pt-[1.5rem] flex flex-col gap-[2rem] relative after:content-[''] after:w-full after:h-[20rem] after:absolute after:rounded-b-[5rem] after:bg-linear-to-br after:from-[#429690] after:to-[#2A7C76] after:z-[-1]"
  >
    <div class="top-section flex items-center justify-between text-white">
      <button
        type="button"
        class="w-[2.5rem] h-[2.5rem] flex items-center justify-center cursor-pointer"
        (click)="closeDialog()"
      >
        <lucide-angular
          [img]="backButtonIcon"
          class="w-full h-full"
        ></lucide-angular>
      </button>
      <h2 class="title-text text-[2rem]">
        @if(editMode()){Edit}@else{Add} Budget
      </h2>
      <button
        type="button"
        class="w-[2.5rem] h-[2.5rem] flex items-center justify-center"
      >
        <lucide-angular [img]="ellipsesHorIcon"></lucide-angular>
      </button>
    </div>
    <form
      class="form p-[3rem_2rem] bg-white rounded-[2rem] shadow-xl"
      [formGroup]="budgetForm"
      (submit)="onBudgetSubmit()"
    >
      <div class="form-group">
        <!-- <label for="limit" class="form-label">Limit</label> -->
        <input
          type="number"
          name="limit"
          id="limit"
          class="form-control"
          placeholder="Limit"
          formControlName="limit"
        />
        @if(limit?.invalid && (limit?.touched || limit?.dirty)){
        @if(limit?.hasError('required')){
        <small class="err-text text-[1.5rem]">limit Required</small>
        } @if(limit?.hasError('min')){
        <small class="err-text text-[1.5rem]"
          >Amount must be atleast 100</small
        >
        } }
      </div>
      <div class="form-group">
        <!-- <label class="form-label" for="name">
        Budget Name
      </label> -->
        <input
          type="text"
          name="name"
          id="nme"
          class="form-control"
          placeholder="Budget Name"
          formControlName="name"
        />
      </div>
      <div class="date text-center text-neutral-500">
        Month: {{ date | date: 'MMMM, yyyy' }}
      </div>
      <div class="form-actions">
        <button type="submit" class="btn text-white">
          @if(editMode()){Update}@else{Add}
        </button>
      </div>
    </form>
  </div>
</section>
