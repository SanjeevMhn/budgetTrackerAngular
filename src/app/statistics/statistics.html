<section class="statistic-container h-full">
  <div class="wrapper pt-[3.5rem] flex flex-col gap-y-[2rem]">
    <div class="top-section flex items-center justify-between">
      <button
        type="button"
        class="w-[2.5rem] h-[2.5rem] flex items-center justify-center cursor-pointer"
      >
        <lucide-angular
          [img]="backButtonIcon"
          class="w-full h-full"
        ></lucide-angular>
      </button>
      <h2 class="title-text text-[2rem]">Statistics</h2>
      <button
        type="button"
        class="w-[2.5rem] h-[2.5rem] flex items-center justify-center"
      >
        <lucide-angular [img]="downloadIcon"></lucide-angular>
      </button>
    </div>
    <ul class="tab-list flex items-center justify-between gap-[1rem] flex-wrap">
      @for(tab of tabList(); track tab.id){
      <li class="tab">
        <button
          class="flex items-center justify-center rounded-xl p-[1rem] min-w-[9rem] cursor-pointer"
          [class]="tab.active ? 'bg-[#438883] text-white' : 'text-neutral-700'"
          type="button"
          (click)="toggleActiveTab(tab.id)"
        >
          {{tab.name}}
        </button>
      </li>
      }
    </ul>
    <div class="dropdown-container flex items-center justify-end">
      <select
        name=""
        id=""
        class="p-[0.5rem_1.2rem] border border-neutral-500 rounded-xl text-neutral-500 text-[1.8rem]"
      >
        <option value="">Select Type</option>
        <option value="exp" selected>Expense</option>
        <option value="inc">Income</option>
      </select>
    </div>
    <div class="chart-container p-[1.5rem] rounded-xl bg-white shadow-md">
      <canvas class="w-full" #chart></canvas>
    </div>
    <div
      class="card-section p-[2rem] bg-white rounded-2xl min-h-[15rem] flex flex-col gap-[2rem] shadow-md"
    >
      <div class="header flex items-center justify-between">
        <h2 class="header-text text-[1.7rem] font-medium">
          Top Spendings / Income
        </h2>
        <span class="see-all text-[1.4rem] text-neutral-500">See All</span>
      </div>
      <ul class="transactions flex flex-col gap-[0.5rem]">
        @for(transaction of transactions; track transaction.id){
        <li
          class="tran-item grid grid-cols-2 gap-[0.8rem] p-[1.5rem] rounded-xl"
        >
          <h2 class="name text-[1.6rem] font-medium row-1 col-1 leading-[1.1]">
            {{transaction.name}}
          </h2>
          <span
            class="date text-neutral-600 text-[1.4rem] row-2 col-1 leading-[1.1]"
            >{{transaction.date}}</span
          >
          <p
            class="amount text-[1.8rem] col-2 row-[1/span_2] leading-[1.1] flex items-center justify-end"
            [class]="transaction.type == 'expense' ? 'text-red-600' : 'text-green-600'"
          >
            {{transaction.type == 'expense' ? '-' : '+'}} Rs.
            {{transaction.amount}}
          </p>
        </li>
        }
      </ul>
    </div>
  </div>
</section>
